{"version":3,"names":["SearchSelect","constructor","selectElement","this","options","getOptionsItems","selectedOption","find","option","selected","highlightedIndex","searchSelectContainer","document","createElement","classList","add","displayElement","setAttribute","updateDisplay","dropdownElement","searchContainer","searchInput","appendChild","optionsListElement","buildOptions","parentNode","insertBefore","addEventListeners","Array","from","map","index","value","label","textContent","disabled","element","id","Math","random","toString","substring","innerHTML","forEach","optionData","optionElement","dataset","searchElement","addEventListener","selectOption","closeDropdown","highlightOption","remove","placeholder","removeAttribute","matchingOption","opt","previouslySelected","dispatchEvent","Event","bubbles","toggleDropdown","contains","openDropdown","querySelectorAll","dropdown","display","previousElementSibling","focus","resetHighlight","scrollToHighlightedOption","filterOptions","searchTerm","lowerCaseSearchTerm","toLowerCase","trim","firstVisibleIndex","isMatch","includes","hidden","toggle","previouslyHighlighted","querySelector","visibleOptions","filter","length","actualIndex","targetOption","findIndex","optionToHighlight","indexOf","selectedIndex","highlightedElement","dropdownRect","getBoundingClientRect","optionRect","bottom","scrollTop","top","offsetHeight","handleKeyboard","event","key","activeElement","preventDefault","currentHighlightIndexInVisible","nextIndex","prevIndex","selectedOptionData","stopPropagation","visible","target","bind","observer","MutationObserver","mutations","optionsChanged","some","mutation","type","selectedAttributeChanged","attributeName","tagName","observe","childList","subtree","attributes","attributeFilter","mutationObserver","disconnect","removeChild"],"sources":["src/search-select.js"],"mappings":"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","ignoreList":[]}